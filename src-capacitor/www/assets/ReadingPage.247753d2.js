import{c as F,aa as de,ab as ve,a as i,h,u as fe,g as K,o as he,aj as we,k as Ce,a8 as pe,Q as V,ac as xe,O as De,r as _,ad as Be,ag as Te,ah as Ve,j as O,at as Qe,_ as Pe,au as Ee,f as Ae,x as M,y as $,z as x,J as z,A as m,C as H,D as A,av as R,a7 as Z,aw as Ne,G as He,H as Oe,I as Fe,F as ee}from"./index.1885129a.js";import{Q as j,a as Me}from"./QPageSticky.e19540d2.js";import{Q as L}from"./QInput.558b6acb.js";import{u as G,a as Y,b as Re}from"./global.c23c0a78.js";import{Q as te,a as je,T as ae}from"./QScrollObserver.fa6055d2.js";import{b as N}from"./format.801e7424.js";import{s as le,j as oe}from"./use-timeout.c17e3e6d.js";import{Q as Le,a as re,b as Ie,c as Ue,C as Ke}from"./ClosePopup.4a354680.js";import{Q as Ge}from"./QPage.f252a6e0.js";import"./axios.ce4e764a.js";import"./selection.cdcb07b5.js";const Ye={xs:2,sm:4,md:6,lg:10,xl:14};function ne(e,r,c){return{transform:r===!0?`translateX(${c.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Xe=F({name:"QLinearProgress",props:{...G,...de,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:r}){const{proxy:c}=K(),a=Y(e,c.$q),b=ve(e,Ye),f=i(()=>e.indeterminate===!0||e.query===!0),o=i(()=>e.reverse!==e.query),t=i(()=>({...b.value!==null?b.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),S=i(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),q=i(()=>ne(e.buffer!==void 0?e.buffer:1,o.value,c.$q)),k=i(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),w=i(()=>ne(f.value===!0?1:e.value,o.value,c.$q)),g=i(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${f.value===!0?"in":""}determinate`),C=i(()=>({width:`${e.value*100}%`})),p=i(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const u=[h("div",{class:k.value,style:q.value}),h("div",{class:g.value,style:w.value})];return e.stripe===!0&&f.value===!1&&u.push(h("div",{class:p.value,style:C.value})),h("div",{class:S.value,style:t.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},fe(r.default,u))}}}),Je=F({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:r,emit:c}){let a=!1,b,f,o,t,S,q;function k(){b&&b(),b=null,a=!1,clearTimeout(o),clearTimeout(t),f!==void 0&&f.removeEventListener("transitionend",S),S=null}function w(u,s,v){u.style.overflowY="hidden",s!==void 0&&(u.style.height=`${s}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,b=v}function g(u,s){u.style.overflowY=null,u.style.height=null,u.style.transition=null,k(),s!==q&&c(s)}function C(u,s){let v=0;f=u,a===!0?(k(),v=u.offsetHeight===u.scrollHeight?0:void 0):q="hide",w(u,v,s),o=setTimeout(()=>{u.style.height=`${u.scrollHeight}px`,S=y=>{(Object(y)!==y||y.target===u)&&g(u,"show")},u.addEventListener("transitionend",S),t=setTimeout(S,e.duration*1.1)},100)}function p(u,s){let v;f=u,a===!0?k():(q="show",v=u.scrollHeight),w(u,v,s),o=setTimeout(()=>{u.style.height=0,S=y=>{(Object(y)!==y||y.target===u)&&g(u,"hide")},u.addEventListener("transitionend",S),t=setTimeout(S,e.duration*1.1)},100)}return he(()=>{a===!0&&k()}),()=>h(we,{css:!1,appear:e.appear,onEnter:C,onLeave:p},r.default)}});const We={xs:8,sm:10,md:14,lg:20,xl:24};var $e=F({name:"QChip",props:{...G,...de,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:c}){const{proxy:{$q:a}}=K(),b=Y(e,a),f=ve(e,We),o=i(()=>e.selected===!0||e.icon!==void 0),t=i(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),S=i(()=>e.iconRemove||a.iconSet.chip.remove),q=i(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),k=i(()=>{const s=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(s?` text-${s} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(b.value===!0?" q-chip--dark q-dark":"")}),w=i(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function g(s){s.keyCode===13&&C(s)}function C(s){e.disable||(c("update:selected",!e.selected),c("click",s))}function p(s){(s.keyCode===void 0||s.keyCode===13)&&(De(s),e.disable===!1&&(c("update:modelValue",!1),c("remove")))}function u(){const s=[];q.value===!0&&s.push(h("div",{class:"q-focus-helper"})),o.value===!0&&s.push(h(V,{class:"q-chip__icon q-chip__icon--left",name:t.value}));const v=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return s.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},xe(r.default,v))),e.iconRight&&s.push(h(V,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&s.push(h(V,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...w.value,onClick:p,onKeyup:p})),s}return()=>{if(e.modelValue===!1)return;const s={class:k.value,style:f.value};return q.value===!0&&Object.assign(s,w.value,{onClick:C,onKeyup:g}),Ce("div",s,u(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[pe,e.ripple]])}}});const ie=["vertical","horizontal"],I={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},se={prevent:!0,mouse:!0,mouseAllDir:!0};var Ze=F({name:"QScrollArea",props:{...G,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:r,emit:c}){const a=_(!1),b=_(!1),f=_(!1),o={vertical:_(0),horizontal:_(0)},t={vertical:{ref:_(null),position:_(0),size:_(0)},horizontal:{ref:_(null),position:_(0),size:_(0)}},S=K(),q=Y(e,S.proxy.$q);let k,w;const g=_(null),C=i(()=>"q-scrollarea"+(q.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=i(()=>{const l=t.vertical.size.value-o.vertical.value;if(l<=0)return 0;const n=N(t.vertical.position.value/l,0,1);return Math.round(n*1e4)/1e4}),t.vertical.thumbHidden=i(()=>(e.visible===null?f.value:e.visible)!==!0&&a.value===!1&&b.value===!1||t.vertical.size.value<=o.vertical.value+1),t.vertical.thumbStart=i(()=>t.vertical.percentage.value*(o.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=i(()=>Math.round(N(o.vertical.value*o.vertical.value/t.vertical.size.value,50,o.vertical.value))),t.vertical.style=i(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=i(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=i(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=i(()=>{const l=t.horizontal.size.value-o.horizontal.value;if(l<=0)return 0;const n=N(t.horizontal.position.value/l,0,1);return Math.round(n*1e4)/1e4}),t.horizontal.thumbHidden=i(()=>(e.visible===null?f.value:e.visible)!==!0&&a.value===!1&&b.value===!1||t.horizontal.size.value<=o.horizontal.value+1),t.horizontal.thumbStart=i(()=>t.horizontal.percentage.value*(o.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=i(()=>Math.round(N(o.horizontal.value*o.horizontal.value/t.horizontal.size.value,50,o.horizontal.value))),t.horizontal.style=i(()=>({...e.thumbStyle,...e.horizontalThumbStyle,left:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=i(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=i(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=i(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),u=[[ae,l=>{X(l,"vertical")},void 0,{vertical:!0,...se}]],s=[[ae,l=>{X(l,"horizontal")},void 0,{horizontal:!0,...se}]];function v(){const l={};return ie.forEach(n=>{const d=t[n];l[n+"Position"]=d.position.value,l[n+"Percentage"]=d.percentage.value,l[n+"Size"]=d.size.value,l[n+"ContainerSize"]=o[n].value}),l}const y=Be(()=>{const l=v();l.ref=S.proxy,c("scroll",l)},0);function D(l,n,d){if(ie.includes(l)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(l==="vertical"?le:oe)(g.value,n,d)}function T({height:l,width:n}){let d=!1;o.vertical.value!==l&&(o.vertical.value=l,d=!0),o.horizontal.value!==n&&(o.horizontal.value=n,d=!0),d===!0&&Q()}function me({position:l}){let n=!1;t.vertical.position.value!==l.top&&(t.vertical.position.value=l.top,n=!0),t.horizontal.position.value!==l.left&&(t.horizontal.position.value=l.left,n=!0),n===!0&&Q()}function be({height:l,width:n}){t.horizontal.size.value!==n&&(t.horizontal.size.value=n,Q()),t.vertical.size.value!==l&&(t.vertical.size.value=l,Q())}function X(l,n){const d=t[n];if(l.isFirst===!0){if(d.thumbHidden.value===!0)return;w=d.position.value,b.value=!0}else if(b.value!==!0)return;l.isFinal===!0&&(b.value=!1);const B=I[n],E=o[n].value,ze=(d.size.value-E)/(E-d.thumbSize.value),qe=l.distance[B.dist],ke=w+(l.direction===B.dir?1:-1)*qe*ze;W(ke,n)}function J(l,n){const d=t[n];if(d.thumbHidden.value!==!0){const B=l[I[n].offset];if(B<d.thumbStart.value||B>d.thumbStart.value+d.thumbSize.value){const E=B-d.thumbSize.value/2;W(E/o[n].value*d.size.value,n)}d.ref.value!==null&&d.ref.value.dispatchEvent(new MouseEvent(l.type,l))}}function ge(l){J(l,"vertical")}function Se(l){J(l,"horizontal")}function Q(){a.value===!0?clearTimeout(k):a.value=!0,k=setTimeout(()=>{a.value=!1},e.delay),e.onScroll!==void 0&&y()}function W(l,n){g.value[I[n].scroll]=l}function ye(){f.value=!0}function _e(){f.value=!1}Object.assign(S.proxy,{getScrollTarget:()=>g.value,getScroll:v,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:D,setScrollPercentage(l,n,d){D(l,n*(t[l].size.value-o[l].value),d)}});let P=null;return Te(()=>{P={top:t.vertical.position.value,left:t.horizontal.position.value}}),Ve(()=>{if(P===null)return;const l=g.value;l!==null&&(oe(l,P.left),le(l,P.top))}),he(y.cancel),()=>h("div",{class:C.value,onMouseenter:ye,onMouseleave:_e},[h("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[h("div",{class:"q-scrollarea__content absolute",style:p.value},fe(r.default,[h(te,{debounce:0,onResize:be})])),h(je,{axis:"both",onScroll:me})]),h(te,{debounce:0,onResize:T}),h("div",{class:t.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:ge}),h("div",{class:t.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:Se}),O(h("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),u),O(h("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),s)])}}),ue;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(ue||(ue={}));var ce;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(ce||(ce={}));const U=Qe("Keyboard"),et={setup(){const e=Ee(),r=Re(),c=_("load");e.currentRoute.value.query.action&&(c.value=e.currentRoute.value.query.action);const a=_(""),b=_(null),f=new Audio("../mixkit-wrong-long-buzzer-954.wav"),o=_(!1),t=_(""),S=i(()=>{let v=r.aeinfo.lecturas.length;return r.aeinfo.lecturas.filter(D=>D.NroDS===!0).length/v}),q=i(()=>c.value==="load"?"upload":c.value==="download"?"download":"photo_camera"),k=i(()=>c.value==="load"?"Cargando":c.value==="download"?"Descargando":"Fotografiar"),w=i(()=>{let v=r.aeinfo.lecturas.length;return r.aeinfo.lecturas.filter(D=>D.NroDS===!0).length/v===1});U.addListener("keyboardWillShow",g),U.addListener("keyboardDidShow",g);function g(){a.value="",b.value.focus(),U.hide()}async function C(){let v={ae:r.aedocument,ud:a.value,empresa:r.customer};if(p(c.value)){if(c.value==="load"){const y=await r.uploadUnit(v);console.log(y),g()}if(c.value==="download"){const y=await r.downloadUnit(v);console.log(y),g()}}}function p(v){let D=r.aeinfo.lecturas.filter(T=>T.Descripcion===a.value);if(D.length>0){let T=D[0].NroDS;return v==="load"&&T===!0?(t.value="Esto ya esta cargado.",o.value=!0,f.play(),!1):v==="download"&&T===null?(t.value="Esto ya est\xE1 descargado",o.value=!0,f.play(),!1):!0}else return t.value="No pertenece a este pedido.",o.value=!0,f.play(),!1}function u(){f.play()}function s(){r.changeAE()}return Ae(()=>{g()}),{globalStore:r,action:c,radioIcons:q,radioText:k,barcode:a,returnFocus:g,barcodeinput:b,progress:S,readBarcode:C,alert:o,alertMsg:t,playError:u,nuevaEntrega:s,visibleEnd:w}}},tt={class:"text-center text-h5 text-weight-bold"},at={class:"text-center"},lt={class:"q-pa-none",style:{"font-size":"16px"}},ot={class:"row items-center"},rt=z("div",{class:"col-3"},"Albar\xE1n",-1),nt={class:"col"},it={class:"row items-center"},st=z("div",{class:"col-3"},"Agencia",-1),ut={class:"col"},ct={class:"row items-center"},dt=z("div",{class:"col-3"},"Barras",-1),vt={class:"col"},ft={class:"q-pa-sm"},ht={class:"text-center q-pa-sm"},mt={class:"text-h5"},bt=H("Todo Cargado "),gt=z("div",{class:"text-h6"},"Error",-1);function St(e,r,c,a,b,f){return M(),$(Ge,{class:"flex-center q-pa-md"},{default:x(()=>[z("div",tt,[m(V,{name:a.radioIcons},null,8,["name"]),H(" "+A(a.radioText)+" "+A(a.globalStore.customer)+" ",1),m(V,{name:a.radioIcons},null,8,["name"])]),z("div",at,[m(j,{modelValue:a.action,"onUpdate:modelValue":r[0]||(r[0]=o=>a.action=o),class:R(a.action==="load"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"load",label:"Cargar",onClick:a.returnFocus},null,8,["modelValue","class","onClick"]),m(j,{modelValue:a.action,"onUpdate:modelValue":r[1]||(r[1]=o=>a.action=o),class:R(a.action==="download"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"download",label:"Descargar",onClick:a.returnFocus},null,8,["modelValue","class","onClick"]),m(j,{modelValue:a.action,"onUpdate:modelValue":r[2]||(r[2]=o=>a.action=o),class:R(a.action==="photo"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photo",label:"Fotografiar",onClick:r[3]||(r[3]=o=>this.$router.push("/photos"))},null,8,["modelValue","class"])]),z("div",lt,[z("div",ot,[rt,z("div",nt,[m(L,{dense:"",modelValue:a.globalStore.aedocument,"onUpdate:modelValue":r[4]||(r[4]=o=>a.globalStore.aedocument=o),disable:""},null,8,["modelValue"])])]),z("div",it,[st,z("div",ut,[m(L,{dense:"",modelValue:a.globalStore.aeinfo.agencia.CodigoDeServicioDeTransporte,"onUpdate:modelValue":r[5]||(r[5]=o=>a.globalStore.aeinfo.agencia.CodigoDeServicioDeTransporte=o),disable:""},null,8,["modelValue"])])]),z("div",ct,[dt,z("div",vt,[m(L,{dense:"",modelValue:a.barcode,"onUpdate:modelValue":r[6]||(r[6]=o=>a.barcode=o),ref:"barcodeinput",onKeyup:Z(a.readBarcode,["enter"])},null,8,["modelValue","onKeyup"])])])]),z("div",ft,[m(Xe,{value:a.progress,rounded:"",stripe:"",size:"15px",color:"positive",class:"q-mt-sm"},null,8,["value"]),m(Je,null,{default:x(()=>[O(z("div",ht,[z("span",mt,[bt,m(V,{color:"positive",name:"check_circle"})])],512),[[Ne,a.visibleEnd]])]),_:1}),m(Ze,{class:"q-pt-xs",style:{height:"38vh","max-width":"95vw"}},{default:x(()=>[(M(!0),He(Fe,null,Oe(a.globalStore.aeinfo.lecturas,o=>(M(),$($e,{size:"md",key:o.Descripcion,color:o.NroDS?a.action==="load"?"positive":"primary":"","text-color":"white"},{default:x(()=>[H(A(o.Descripcion2),1)]),_:2},1032,["color"]))),128))]),_:1})]),m(Ue,{persistent:"",modelValue:a.alert,"onUpdate:modelValue":r[7]||(r[7]=o=>a.alert=o),onKeyup:Z(a.playError,["enter"])},{default:x(()=>[m(Le,null,{default:x(()=>[m(re,null,{default:x(()=>[gt]),_:1}),m(re,{class:"bg-negative text-white"},{default:x(()=>[H(A(a.alertMsg),1)]),_:1}),m(Ie,{align:"right"},{default:x(()=>[O(m(ee,{flat:"",label:"ENTENDIDO",color:"primary",onClick:a.returnFocus},null,8,["onClick"]),[[Ke]])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),m(Me,{position:"bottom",offset:[0,18]},{default:x(()=>[m(ee,{style:{width:"95vw"},color:"accent","text-color":"white",label:"Cargar otra entrega","no-caps":"",onClick:a.nuevaEntrega},null,8,["onClick"])]),_:1})]),_:1})}var Tt=Pe(et,[["render",St]]);export{Tt as default};

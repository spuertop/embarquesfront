import{Q as _}from"./QInput.9ede4e32.js";import{b as x,a as L,Q as v}from"./QItem.70f75601.js";import{_ as V,r as n,a as k,x as c,y as C,z as t,J as p,A as o,G as I,H as N,I as U,D as m,a7 as A,j as y,F as Q,a8 as B,C as S,Q as q}from"./index.f99b5f9f.js";import{Q as D,a as b,b as R,c as F,C as G}from"./ClosePopup.0b1c5a07.js";import{Q as K}from"./QPage.1b4495c9.js";import{u as P}from"./global.65aef719.js";import{u as E}from"./use-quasar.2b123368.js";import"./use-dark.740bc772.js";import"./format.801e7424.js";import"./use-form.d592b7c7.js";import"./use-timeout.efb88233.js";import"./axios.4d33b3f1.js";const H={setup(){const r=P(),s=E();r.getAllusers();const i=n(""),e=n(!1),u=n(""),d=n(""),a=n(""),f=k(()=>{let l=i.value.toLowerCase();return r.usersList.filter(g=>g.Nombre.toLowerCase().includes(l)||g.Usuario.toLowerCase().includes(l))});function w(l){e.value=!0,u.value=l.Nombre,d.value=l.Usuario,a.value=""}async function h(){e.value=!1;const l=await r.postLogIn({user:d.value,pass:a.value});l&&s.notify({type:"negative",message:l,position:"center",timeout:1e4,actions:[{label:"",icon:"close",color:"white",handler:()=>{}}]})}return{globalStore:r,filteruser:i,filteredList:f,showlogindialog:w,logindialog:e,holausertxt:u,pass:a,postLogin:h}}},j=p("div",{class:"text-center text-h4 text-weight-bold"}," CONFIRMAR CARGAS ",-1),z={style:{"min-width":"90vw"}},J={class:"text-h6"};function M(r,s,i,e,u,d){return c(),C(K,{class:"flex-center q-ma-md"},{default:t(()=>[j,p("div",z,[o(_,{class:"q-my-md",outlined:"",modelValue:e.filteruser,"onUpdate:modelValue":s[0]||(s[0]=a=>e.filteruser=a),label:"Buscar usuario",autofocus:""},null,8,["modelValue"]),o(x,{bordered:"",separator:""},{default:t(()=>[(c(!0),I(U,null,N(e.filteredList,a=>y((c(),C(L,{class:"q-py-md",clickable:"",key:a.Usuario,onClick:f=>e.showlogindialog(a)},{default:t(()=>[o(v,null,{default:t(()=>[S(m(a.Usuario)+" - "+m(a.Nombre),1)]),_:2},1024),o(v,{avatar:""},{default:t(()=>[o(q,{color:"primary",name:"login"})]),_:1})]),_:2},1032,["onClick"])),[[B]])),128))]),_:1})]),o(F,{modelValue:e.logindialog,"onUpdate:modelValue":s[2]||(s[2]=a=>e.logindialog=a),persistent:""},{default:t(()=>[o(D,{style:{"min-width":"90vw"}},{default:t(()=>[o(b,null,{default:t(()=>[p("div",J,"Hola "+m(e.holausertxt),1)]),_:1}),o(b,{class:"q-pt-none"},{default:t(()=>[o(_,{modelValue:e.pass,"onUpdate:modelValue":s[1]||(s[1]=a=>e.pass=a),autofocus:"",type:"password",onKeyup:A(e.postLogin,["enter"]),placeholder:"Contrase\xF1a"},null,8,["modelValue","onKeyup"])]),_:1}),o(R,{align:"right",class:"text-primary"},{default:t(()=>[y(o(Q,{"no-caps":"",color:"secondary",label:"Cerrar"},null,512),[[G]]),o(Q,{"no-caps":"",color:"accent",label:"Entrar",onClick:e.postLogin,disable:!(e.pass.length>3)},null,8,["onClick","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var le=V(H,[["render",M]]);export{le as default};

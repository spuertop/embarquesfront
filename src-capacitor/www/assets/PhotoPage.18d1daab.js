import{a as f,c as G,r as C,w as z,o as J,h as v,aj as ce,d as j,ai as ve,T as fe,U as M,R as ge,V as me,W as Q,X as U,$ as ee,O as H,a0 as W,g as Z,ay as he,az as pe,n as ye,a2 as _e,aA as be,f as de,a1 as te,k as Se,u as xe,aB as Ce,F as O,at as Pe,_ as we,x as X,y as ne,z as L,J as A,A as w,Q as ae,C as qe,D as oe,G as ke,H as Ie,I as Te}from"./index.f99b5f9f.js";import{Q as K,a as Ae}from"./QPageSticky.b4b97b7e.js";import{g as ie,s as le,c as Be}from"./selection.5f06e24b.js";import{u as Ve,a as $e}from"./use-dark.740bc772.js";import{Q as Ee}from"./QPage.1b4495c9.js";import{u as Ne}from"./global.65aef719.js";const Fe={ratio:[String,Number]};function ze(e,n){return f(()=>{const r=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const Re=16/9;var Me=G({name:"QImg",props:{...Fe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Re},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:r}){const i=C(e.initialRatio),s=ze(e,i);let t;const a=[C(null),C(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],u=C(0),m=C(!1),h=C(!1),c=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),y=f(()=>({width:e.width,height:e.height})),g=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),_=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));z(()=>b(),q);function b(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(l){if(clearTimeout(t),h.value=!1,l===null){m.value=!1,a[0].value=null,a[1].value=null;return}m.value=!0,a[u.value].value=l}function P({target:l}){t!==null&&(clearTimeout(t),i.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,B(l,1))}function B(l,S){t===null||S===1e3||(l.complete===!0?V(l):t=setTimeout(()=>{B(l,S+1)},50))}function V(l){t!==null&&(u.value=u.value===1?0:1,a[u.value].value=null,m.value=!1,h.value=!1,r("load",l.currentSrc||l.src))}function k(l){clearTimeout(t),m.value=!1,h.value=!0,a[0].value=null,a[1].value=null,r("error",l)}function $(l,S){return v("div",{class:"q-img__container absolute-full",key:l},S)}function E(l){const S=a[l].value,I={key:"img_"+l,class:g.value,style:_.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...S};return u.value===l?(I.class+=" q-img__image--waiting",Object.assign(I,{onLoad:P,onError:k})):I.class+=" q-img__image--loaded",$("img"+l,v("img",I))}function T(){return m.value!==!0?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},j(n[h.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[v(ve,{color:e.spinnerColor,size:e.spinnerSize})])}return q(b()),J(()=>{clearTimeout(t),t=null}),()=>{const l=[];return s.value!==null&&l.push(v("div",{key:"filler",style:s.value})),h.value!==!0&&(a[0].value!==null&&l.push(E(0)),a[1].value!==null&&l.push(E(1))),l.push(v(ce,{name:"q-transition--fade"},T)),v("div",{class:c.value,style:y.value,role:"img","aria-label":e.alt},l)}}});function De(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,i)=>{const s=parseFloat(r);s&&(n[i]=s)}),n}var Oe=fe({name:"touch-swipe",beforeMount(e,{value:n,arg:r,modifiers:i}){if(i.mouse!==!0&&M.has.touch!==!0)return;const s=i.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:De(r),direction:ie(i),noop:ge,mouseStart(a){le(a,t)&&me(a)&&(Q(t,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(le(a,t)){const u=a.target;Q(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,u){M.is.firefox===!0&&U(e,!0);const m=ee(a);t.event={x:m.left,y:m.top,time:Date.now(),mouse:u===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){H(a);return}const u=Date.now()-t.event.time;if(u===0)return;const m=ee(a),h=m.left-t.event.x,c=Math.abs(h),y=m.top-t.event.y,g=Math.abs(y);if(t.event.mouse!==!0){if(c<t.sensitivity[1]&&g<t.sensitivity[1]){t.end(a);return}}else if(c<t.sensitivity[2]&&g<t.sensitivity[2])return;const _=c/u,b=g/u;t.direction.vertical===!0&&c<g&&c<100&&b>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&c>g&&g<100&&_>t.sensitivity[0]&&(t.event.dir=h<0?"left":"right"),t.direction.up===!0&&c<g&&y<0&&c<100&&b>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&c<g&&y>0&&c<100&&b>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&c>g&&h<0&&g<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&c>g&&h>0&&g<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(H(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Be(),t.styleCleanup=q=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(P,50):P()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:u,distance:{x:c,y:g}})):t.end(a)},end(a){t.event!==void 0&&(W(t,"temp"),M.is.firefox===!0&&U(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&H(a),t.event=void 0)}};e.__qtouchswipe=t,i.mouse===!0&&Q(t,"main",[[e,"mousedown","mouseStart",`passive${s}`]]),M.has.touch===!0&&Q(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const r=e.__qtouchswipe;r!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&r.end(),r.handler=n.value),r.direction=ie(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(W(n,"main"),W(n,"temp"),M.is.firefox===!0&&U(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function Qe(){const e=new Map;return{getCache:function(n,r){return e[n]===void 0?e[n]=r:e[n]},getCacheWithFn:function(n,r){return e[n]===void 0?e[n]=r():e[n]}}}const Le={name:{required:!0},disable:Boolean},re={setup(e,{slots:n}){return()=>v("div",{class:"q-panel scroll",role:"tabpanel"},j(n.default))}},je={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ue=["update:modelValue","before-transition","transition"];function He(){const{props:e,emit:n,proxy:r}=Z(),{getCacheWithFn:i}=Qe();let s,t;const a=C(null),u=C(null);function m(o){const d=e.vertical===!0?"up":"left";l((r.$q.lang.rtl===!0?-1:1)*(o.direction===d?1:-1))}const h=f(()=>[[Oe,m,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),g=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),b=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),q=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);z(()=>e.modelValue,(o,d)=>{const x=k(o)===!0?$(o):-1;t!==!0&&T(x===-1?0:x<$(d)?-1:1),a.value!==x&&(a.value=x,n("before-transition",o,d),ye(()=>{n("transition",o,d)}))});function P(){l(1)}function B(){l(-1)}Object.assign(r,{next:P,previous:B,goTo:V});function V(o){n("update:modelValue",o)}function k(o){return o!=null&&o!==""}function $(o){return s.findIndex(d=>d.props.name===o&&d.props.disable!==""&&d.props.disable!==!0)}function E(){return s.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function T(o){const d=o!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(o===-1?c.value:y.value):null;u.value!==d&&(u.value=d)}function l(o,d=a.value){let x=d+o;for(;x>-1&&x<s.length;){const F=s[x];if(F!==void 0&&F.props.disable!==""&&F.props.disable!==!0){T(o),t=!0,n("update:modelValue",F.props.name),setTimeout(()=>{t=!1});return}x+=o}e.infinite===!0&&s.length>0&&d!==-1&&d!==s.length&&l(o,o===-1?s.length:-1)}function S(){const o=$(e.modelValue);return a.value!==o&&(a.value=o),!0}function I(){const o=k(e.modelValue)===!0&&S()&&s[a.value];return e.keepAlive===!0?[v(he,b.value,[v(q.value===!0?i(_.value,()=>({...re,name:_.value})):re,{key:_.value,style:g.value},()=>o)])]:[v("div",{class:"q-panel scroll",style:g.value,key:_.value,role:"tabpanel"},[o])]}function p(){if(s.length!==0)return e.animated===!0?[v(ce,{name:u.value},I)]:I()}function N(o){return s=pe(j(o.default,[])).filter(d=>d.props!==null&&d.props.slot===void 0&&k(d.props.name)===!0),s.length}function R(){return s}return{panelIndex:a,panelDirectives:h,updatePanelsList:N,updatePanelIndex:S,getPanelContent:p,getEnabledPanels:E,getPanels:R,isValidPanelName:k,keepAliveProps:b,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:l,goToPanel:V,nextPanel:P,previousPanel:B}}var We=G({name:"QCarouselSlide",props:{...Le,imgSrc:String},setup(e,{slots:n}){const r=f(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>v("div",{class:"q-carousel__slide",style:r.value},j(n.default))}});let D=0;const Xe={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Ke=["update:fullscreen","fullscreen"];function Ye(){const e=Z(),{props:n,emit:r,proxy:i}=e;let s,t,a;const u=C(!1);_e(e)===!0&&z(()=>i.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&c()}),z(()=>n.fullscreen,y=>{u.value!==y&&m()}),z(u,y=>{r("update:fullscreen",y),r("fullscreen",y)});function m(){u.value===!0?c():h()}function h(){u.value!==!0&&(u.value=!0,a=i.$el.parentNode,a.replaceChild(t,i.$el),document.body.appendChild(i.$el),D++,D===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:c},te.add(s))}function c(){u.value===!0&&(s!==void 0&&(te.remove(s),s=void 0),a.replaceChild(i.$el,t),u.value=!1,D=Math.max(0,D-1),D===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return be(()=>{t=document.createElement("span")}),de(()=>{n.fullscreen===!0&&h()}),J(c),Object.assign(i,{toggleFullscreen:m,setFullscreen:h,exitFullscreen:c}),{inFullscreen:u,toggleFullscreen:m}}const Ge=["top","right","bottom","left"],Je=["regular","flat","outline","push","unelevated"];var Ze=G({name:"QCarousel",props:{...Ve,...je,...Xe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Je.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ge.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Ke,...Ue],setup(e,{slots:n}){const{proxy:{$q:r}}=Z(),i=$e(e,r);let s,t;const{updatePanelsList:a,getPanelContent:u,panelDirectives:m,goToPanel:h,previousPanel:c,nextPanel:y,getEnabledPanels:g,panelIndex:_}=He(),{inFullscreen:b}=Ye(),q=f(()=>b.value!==!0&&e.height!==void 0?{height:e.height}:{}),P=f(()=>e.vertical===!0?"vertical":"horizontal"),B=f(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(b.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${P.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${E.value}`:"")),V=f(()=>{const p=[e.prevIcon||r.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||r.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&r.lang.rtl===!0?p.reverse():p}),k=f(()=>e.navigationIcon||r.iconSet.carousel.navigationIcon),$=f(()=>e.navigationActiveIcon||k.value),E=f(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),T=f(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));z(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(s),l())}),z(()=>e.autoplay,p=>{p?l():clearInterval(s)});function l(){const p=Ce(e.autoplay)===!0?e.autoplay:5e3;s=setTimeout(p>=0?y:c,Math.abs(p))}de(()=>{e.autoplay&&l()}),J(()=>{clearInterval(s)});function S(p,N){return v("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${p} q-carousel__navigation--${E.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[v("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},g().map(N))])}function I(){const p=[];if(e.navigation===!0){const N=n["navigation-icon"]!==void 0?n["navigation-icon"]:o=>v(O,{key:"nav"+o.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${o.active===!0?"":"in"}active`,...o.btnProps,onClick:o.onClick}),R=t-1;p.push(S("buttons",(o,d)=>{const x=o.props.name,F=_.value===d;return N({index:d,maxIndex:R,name:x,active:F,btnProps:{icon:F===!0?$.value:k.value,size:"sm",...T.value},onClick:()=>{h(x)}})}))}else if(e.thumbnails===!0){const N=e.controlColor!==void 0?` text-${e.controlColor}`:"";p.push(S("thumbnails",R=>{const o=R.props;return v("img",{key:"tmb#"+o.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${o.name===e.modelValue?"":"in"}active`+N,src:o.imgSrc||o["img-src"],onClick:()=>{h(o.name)}})}))}return e.arrows===!0&&_.value>=0&&((e.infinite===!0||_.value>0)&&p.push(v("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${P.value} absolute flex flex-center`},[v(O,{icon:V.value[0],...T.value,onClick:c})])),(e.infinite===!0||_.value<t-1)&&p.push(v("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${P.value} absolute flex flex-center`},[v(O,{icon:V.value[1],...T.value,onClick:y})]))),xe(n.control,p)}return()=>(t=a(n),v("div",{class:B.value,style:q.value},[Se("div",{class:"q-carousel__slides-container"},u(),"sl-cont",e.swipeable,()=>m.value)].concat(I())))}}),se;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(se||(se={}));var ue;(function(e){e.Rear="REAR",e.Front="FRONT"})(ue||(ue={}));var Y;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Y||(Y={}));const et=Pe("Camera",{web:()=>import("./web.fb01df9d.js").then(e=>new e.CameraWeb)}),tt={setup(){const e=Ne();e.getPhotos();const n=C("photo"),r=C(""),i=C(1);function s(){e.changeAE()}async function t(){const a=await et.getPhoto({quality:75,allowEditing:!1,resultType:Y.Base64,source:"CAMERA",correctOrientation:!0});r.value="data:image/jpeg;base64, "+a.base64String,console.log(a.base64String),await e.uploadPhoto(a.base64String),e.getPhotos()}return{globalStore:e,action:n,nuevaEntrega:s,imageSrc:r,captureImage:t,slide:i}}},nt={class:"text-center text-h5 text-weight-bold"},at={class:"text-center",style:{"font-size":"16px"}},ot={class:"q-pa-sm",style:{"font-size":"16px"}},it={class:"row items-center"},lt=A("div",{class:"col-3"},"Albar\xE1n",-1),rt={class:"col"},st={class:"row items-center q-pt-sm"},ut={class:"col-12 flex justify-center"};function ct(e,n,r,i,s,t){return X(),ne(Ee,{class:"flex-center q-pa-md"},{default:L(()=>[A("div",nt,[w(ae,{name:"photo_camera"}),qe(" Fotografiar "+oe(i.globalStore.customer)+" ",1),w(ae,{name:"photo_camera"})]),A("div",at,[w(K,{modelValue:i.action,"onUpdate:modelValue":n[0]||(n[0]=a=>i.action=a),class:"text-grey-5","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"load",label:"Cargar",onClick:n[1]||(n[1]=a=>this.$router.push({path:"/readings",query:{action:"load"}}))},null,8,["modelValue"]),w(K,{modelValue:i.action,"onUpdate:modelValue":n[2]||(n[2]=a=>i.action=a),class:"text-grey-5","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"download",label:"Descargar",onClick:n[3]||(n[3]=a=>this.$router.push({path:"/readings",query:{action:"download"}}))},null,8,["modelValue"]),w(K,{modelValue:i.action,"onUpdate:modelValue":n[4]||(n[4]=a=>i.action=a),class:"text-primary","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photo",label:"Fotografiar"},null,8,["modelValue"])]),A("div",ot,[A("div",it,[lt,A("div",rt,oe(i.globalStore.aedocument),1)]),A("div",st,[A("div",ut,[w(O,{style:{width:"100vw"},icon:"photo_camera",color:"primary",label:"Hacer Foto",onClick:i.captureImage},null,8,["onClick"])])])]),w(Ze,{animated:"",modelValue:i.slide,"onUpdate:modelValue":n[5]||(n[5]=a=>i.slide=a),arrows:"",navigation:"",infinite:"","control-type":"regular","control-color":"primary","navigation-position":"top",style:{height:"50vh"}},{default:L(()=>[(X(!0),ke(Te,null,Ie(i.globalStore.photoList,a=>(X(),ne(We,{key:a.id,name:a.id,class:"no-margin no-padding"},{default:L(()=>[w(Me,{src:a.src,contain:"",sizes:"(max-width: 600px) 480px, 800px"},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),w(Ae,{position:"bottom",offset:[0,18]},{default:L(()=>[w(O,{style:{width:"95vw"},color:"accent","text-color":"white",label:"Cargar otra entrega","no-caps":"",onClick:i.nuevaEntrega},null,8,["onClick"])]),_:1})]),_:1})}var dt=we(tt,[["render",ct]]),yt=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"}));export{se as C,yt as P,ue as a};
